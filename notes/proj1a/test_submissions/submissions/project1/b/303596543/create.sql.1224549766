#---------------------------------------
# Cody Prestwood 303596543
# 18 oct 2008
#
# create.sql creates the table datastructures for the CS143 database.
# I used the following websites:
# http://oak.cs.ucla.edu/cs143/project/mysql/intro.html
# http://dev.mysql.com/doc/refman/5.0/en/mysql.html
#
# The general structure of tables is:
# Movie(id, title, year, rating, company)
# Actor(id, last, first, sex, dob, dod)
# Director(id, last, first, dob, dod)
# MovieGenre(mid, genre)
# MovieDirector(mid, did)
# MovieActor(mid, aid, role)
# Review(name, time, mid, rating, comment)
#---------------------------------------
 CREATE table Movie(id int, title varchar(100), year int, rating varchar(10), company varchar(50), primary key(id));
# LOAD DATA LOCAL INFILE 'movie.del' INTO TABLE Movie FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"';

# create and add data to Actor table
 create table Actor(id int, last varchar(20), first varchar(20), sex varchar(6), dob date, dod date, primary key (id));
# LOAD DATA LOCAL INFILE 'actor1.del' INTO TABLE Actor FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"';
# LOAD DATA LOCAL INFILE 'actor2.del' INTO TABLE Actor FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"';
# LOAD DATA LOCAL INFILE 'actor3.del' INTO TABLE Actor FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"';

 create table Director(id int, last varchar(20), first varchar(20), dob date, dod date, primary key(id));
# LOAD DATA LOCAL INFILE 'director.del' INTO TABLE Director FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"';

 create table MovieGenre(mid int, genre varchar(20),primary key(mid));
# LOAD DATA LOCAL INFILE 'moviegenre.del' INTO TABLE MovieGenre FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"';

 create table MovieDirector(mid int, did int, primary key(mid,did));
# LOAD DATA LOCAL INFILE 'moviedirector.del' INTO TABLE  MovieDirector FIELDS TERMINATED BY ',' ;

 create table MovieActor(mid int, aid int, role varchar(50),primary key(mid,aid));
# LOAD DATA LOCAL INFILE 'movieactor1.del' INTO TABLE MovieActor FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"';
# LOAD DATA LOCAL INFILE 'movieactor2.del' INTO TABLE MovieActor FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"';

 create table Review(name varchar(20), time timestamp, mid int, rating int, comment varchar(500));

 create table MaxPersonID(id int);
 INSERT INTO MaxPersonID VALUES(69000);

 create table MaxMovieID(id int);
 INSERT INTO MaxMovieID VALUES(4750);

show tables;
DESCRIBE Movie;
DESCRIBE Actor;
DESCRIBE Director;
DESCRIBE MovieGenre;
DESCRIBE MovieDirector;
DESCRIBE MovieActor;
DESCRIBE Review;
DESCRIBE MaxMovieID;